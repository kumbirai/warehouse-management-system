# PostgreSQL Configuration for Development Environment
# Increased max_connections to support multiple microservices, Keycloak, and admin tools

# Maximum number of concurrent connections
max_connections = 200

# Shared memory settings (adjusted for increased connections)
# Formula: shared_buffers = max_connections * 2 (in KB, minimum 128MB)
shared_buffers = 256MB

# Effective cache size (should be 50-75% of total RAM)
effective_cache_size = 1GB

# Maintenance work memory
maintenance_work_mem = 128MB

# Checkpoint settings for better performance
checkpoint_completion_target = 0.9
wal_buffers = 16MB

# Connection timeout settings
tcp_keepalives_idle = 600
tcp_keepalives_interval = 30
tcp_keepalives_count = 3

# Logging configuration for connection issues
log_connections = on
log_disconnections = on
log_duration = off
log_line_prefix = '%t [%p]: [%l-1] user=%u,db=%d,app=%a,client=%h '

